$(function(){"use strict";$(document).on("click",".answer_btn",function(){let e=$(this).data("question_no"),n=$(this).data("answer_no"),t=$(this).val();Object.keys(answers[e][n]);return getKeys(answers[e][n],"coordinates"),$(this).parent().parent().children().remove(),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:public_path+"_ajax",type:"post",data:{question_no:e,answer_id:t,mode:"question"}}).done(function(e){null!==e?$(".question_body").text(e.question_id+":"+e.question).hide().fadeIn():$(".question_body").remove()}).fail(function(e,n,t){console.log(e.status),console.log(n),console.log(t)}),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:public_path+"_ajax",type:"post",data:{question_no:e,answer_id:t,mode:"answer"}}).done(function(e){0!==e.length?e.forEach(function(e,n){let t='<div class="answer_btn_wrapper"><button class="answer_btn" type="button" value="'+e.id+'" data-question_no="'+e.question_id+'" data-answer_no="'+n+'">'+e.answer+"</button></div>";$(".answers_wrapper").append(t).hide().fadeIn()}):(document.getElementById("canvas_wrapper").style.display="flex",$(".answers_wrapper").append("<p>全ての質問が終わりました</p>"),$(".answers_wrapper").append('<div class="row center"><button id="save_chara_btn" type="button">保存する</button></div>'),$("#can").removeClass("hide"),$(".tweet-character-wrapper2").removeClass("hide"))}).fail(function(e,n,t){console.log(e.status),console.log(n),console.log(t)}),!1})});
